(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{4950:function(e,s,r){Promise.resolve().then(r.bind(r,9838))},9838:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return a}});var i=r(7437),n=r(2265),t=r(5526),u=r(9376);function a(){let e=(0,u.useRouter)();return(0,n.useEffect)(()=>{(async()=>{try{var s,r,i;let{data:n,error:u}=await t.supabase.auth.getSession();if(u){e.push("/?error=auth_failed");return}if(null===(s=n.session)||void 0===s?void 0:s.user){let{data:s,error:u}=await t.supabase.from("users").select("id").eq("id",n.session.user.id).single();if(u&&"PGRST116"===u.code){let e=(null===(r=n.session.user.user_metadata)||void 0===r?void 0:r.full_name)||(null===(i=n.session.user.email)||void 0===i?void 0:i.split("@")[0])||"User",{error:s}=await t.supabase.from("users").insert({id:n.session.user.id,email:n.session.user.email,name:e})}e.push("/")}else e.push("/?error=no_session")}catch(s){e.push("/?error=unexpected")}})()},[e]),(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,i.jsx)("p",{className:"mt-4 text-gray-600",children:"Completing sign in..."})]})})}}},function(e){e.O(0,[216,592,560],function(){return e(e.s=4950)}),_N_E=e.O()}]);